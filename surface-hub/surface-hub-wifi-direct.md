---
title: Surface Hub 如何解决 Wi-Fi Direct 的安全问题
description: 有关 Wi-fi 直接安全风险的指南。
keywords: 更改历史记录
ms.prod: surface-hub
ms.sitesec: library
author: dansimp
ms.author: dansimp
ms.topic: article
ms.date: 11/27/2019
ms.reviewer: ''
manager: laurawi
ms.localizationpriority: medium
ms.openlocfilehash: d877d9b6a4e330a74a9d79cf1150487d89c0da23
ms.sourcegitcommit: 109d1d7608ac4667564fa5369e8722e569b8ea36
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/27/2020
ms.locfileid: "10830862"
---
# <span data-ttu-id="a961f-104">Surface Hub 如何解决 WLAN Direct 的安全问题</span><span class="sxs-lookup"><span data-stu-id="a961f-104">How Surface Hub addresses Wi-Fi Direct security issues</span></span>

<span data-ttu-id="a961f-105">Microsoft Surface Hub 是一款一体式的高效率设备，团队借助它能够更好地进行集体讨论、协作和分享想法。</span><span class="sxs-lookup"><span data-stu-id="a961f-105">Microsoft Surface Hub is an all-in-one productivity device that enables teams to better brainstorm, collaborate, and share ideas.</span></span> <span data-ttu-id="a961f-106">Surface Hub 通过 Wi-fi Direct 依靠 Miracast 进行无线投影。</span><span class="sxs-lookup"><span data-stu-id="a961f-106">Surface Hub relies on Miracast for wireless projection through Wi-Fi Direct.</span></span>

<span data-ttu-id="a961f-107">本文介绍 Wi-fi 直接安全漏洞、Surface Hub 如何解决这些风险，以及管理员如何为最高级别的安全配置 Surface Hub。</span><span class="sxs-lookup"><span data-stu-id="a961f-107">This article describes Wi-Fi Direct security vulnerabilities, how Surface Hub addresses those risks, and how administrators can configure Surface Hub for the highest level of security.</span></span> <span data-ttu-id="a961f-108">此信息将帮助具有高安全性要求的客户保护其 Surface Hub 连接的网络和传输中的数据。</span><span class="sxs-lookup"><span data-stu-id="a961f-108">This information will help customers who have high security requirements protect their Surface Hub-connected networks and data in transit.</span></span>

<span data-ttu-id="a961f-109">本文的目标读者是希望使用最佳安全设置在其企业环境中部署 Surface Hub 的 IT 和网络管理员。</span><span class="sxs-lookup"><span data-stu-id="a961f-109">The intended audiences for this article are IT and network administrators who want to deploy Surface Hub in their corporate environment with optimal security settings.</span></span>

## <span data-ttu-id="a961f-110">概述</span><span class="sxs-lookup"><span data-stu-id="a961f-110">Overview</span></span>

<span data-ttu-id="a961f-111">Surface Hub 的安全性广泛地依赖于 Wi-fi Direct/Miracast 以及关联的802.11、Wi-fi 保护访问（WPA2）和无线保护设置（WPS）标准。</span><span class="sxs-lookup"><span data-stu-id="a961f-111">Security for Surface Hub depends extensively on Wi-Fi Direct/Miracast and the associated 802.11, Wi-Fi Protected Access (WPA2), and Wireless Protected Setup (WPS) standards.</span></span> <span data-ttu-id="a961f-112">由于设备仅支持 WPS （而不是 WPA2 预共享密钥 [PSK] 或 WPA2 Enterprise），因此与802.11 加密相关的问题会得到简化。</span><span class="sxs-lookup"><span data-stu-id="a961f-112">Because the device only supports WPS (as opposed to WPA2 Pre-Shared Key [PSK] or WPA2 Enterprise), the issues often associated with 802.11 encryption are simplified.</span></span>

<span data-ttu-id="a961f-113">Surface Hub 与 Miracast 接收器的字段进行操作。</span><span class="sxs-lookup"><span data-stu-id="a961f-113">Surface Hub operates on par with the field of Miracast receivers.</span></span> <span data-ttu-id="a961f-114">因此，它容易受到类似于所有基于 WPS 的无线网络设备的一组类似的攻击。</span><span class="sxs-lookup"><span data-stu-id="a961f-114">So, it's vulnerable to a similar set of exploits as all WPS-based wireless network devices.</span></span> <span data-ttu-id="a961f-115">但是，WPS 的 Surface Hub 实现中内置了额外的预防措施。</span><span class="sxs-lookup"><span data-stu-id="a961f-115">But the Surface Hub implementation of WPS has extra precautions built in.</span></span> <span data-ttu-id="a961f-116">此外，它的内部体系结构可帮助防止已损坏 Wi-fi Direct/Miracast 层的攻击者将超过网络接口的攻击者移到其他攻击面和连接的企业网络。</span><span class="sxs-lookup"><span data-stu-id="a961f-116">Also, its internal architecture helps prevent an attacker who has compromised the Wi-Fi Direct/Miracast layer from moving past the network interface onto other attack surfaces and connected enterprise networks.</span></span>

## <span data-ttu-id="a961f-117">WLAN Direct 背景</span><span class="sxs-lookup"><span data-stu-id="a961f-117">Wi-Fi Direct background</span></span>

<span data-ttu-id="a961f-118">Miracast 是 Wi-fi 显示标准的一部分，由 Wi-fi Direct 协议支持。</span><span class="sxs-lookup"><span data-stu-id="a961f-118">Miracast is part of the Wi-Fi Display standard, which is supported by the Wi-Fi Direct protocol.</span></span> <span data-ttu-id="a961f-119">这些标准受用于屏幕共享和协作的现代移动设备的支持。</span><span class="sxs-lookup"><span data-stu-id="a961f-119">These standards are supported in modern mobile devices for screen sharing and collaboration.</span></span>

<span data-ttu-id="a961f-120">Wi-fi Direct 或 Wi-fi "对等" （P2P）是来自 "临时" 网络的 Wi-fi 联盟的标准。</span><span class="sxs-lookup"><span data-stu-id="a961f-120">Wi-Fi Direct or Wi-Fi "peer to peer" (P2P) is a standard from the Wi-Fi Alliance for "Ad-Hoc" networks.</span></span> <span data-ttu-id="a961f-121">受支持的设备可以直接通信，并在没有常规 Wi-fi 接入点或 Internet 连接的情况下创建网络组。</span><span class="sxs-lookup"><span data-stu-id="a961f-121">Supported devices can communicate directly and create groups of networks without a conventional Wi-Fi access point or Internet connection.</span></span>

<span data-ttu-id="a961f-122">Wlan Direct 的安全性由 WPA2 在 WPS 标准下提供。</span><span class="sxs-lookup"><span data-stu-id="a961f-122">Security for Wi-Fi Direct is provided by WPA2 under the WPS standard.</span></span> <span data-ttu-id="a961f-123">设备的身份验证机制可以是一个数字 pin （WPS-PIN）、物理或虚拟推送按钮（WPS-PBC）或带外消息，如近域通信（WPS-OOO）。</span><span class="sxs-lookup"><span data-stu-id="a961f-123">The authentication mechanism for devices can be a numerical pin (WPS-PIN), a physical or virtual push button (WPS-PBC), or an out-of-band message such as near field communication (WPS-OOO).</span></span> <span data-ttu-id="a961f-124">Surface Hub 同时支持引脚方法和推拉按钮方法，这是默认设置。</span><span class="sxs-lookup"><span data-stu-id="a961f-124">Surface Hub supports both the PIN method and the push-button method, which is the default.</span></span>

<span data-ttu-id="a961f-125">在 Wi-fi Direct 中，组创建为以下类型之一：</span><span class="sxs-lookup"><span data-stu-id="a961f-125">In Wi-Fi Direct, groups are created as one of the following types:</span></span>
- <span data-ttu-id="a961f-126">*持久*的，可通过使用存储的密钥材料进行自动重新连接</span><span class="sxs-lookup"><span data-stu-id="a961f-126">*Persistent*, in which automatic reconnection can occur by using stored key material</span></span>
- <span data-ttu-id="a961f-127">*暂时*的，在此情况下，设备不能重新进行身份验证而无需用户操作</span><span class="sxs-lookup"><span data-stu-id="a961f-127">*Temporary*, in which devices can't re-authenticate without user action</span></span>

<span data-ttu-id="a961f-128">Wi-fi Direct 组通过协商协议确定*组所有者*（GO），该协议模仿已建立的 wi-fi Direct 组的 "工作站" 或 "访问点" 功能。</span><span class="sxs-lookup"><span data-stu-id="a961f-128">Wi-Fi Direct groups determine a *group owner* (GO) through a negotiation protocol, which mimics the "station" or "access point" functionality for the established Wi-Fi Direct group.</span></span> <span data-ttu-id="a961f-129">Wi-fi Direct GO 提供身份验证（通过 "内部注册机构"），并推动上游网络连接。</span><span class="sxs-lookup"><span data-stu-id="a961f-129">The Wi-Fi Direct GO provides authentication (via an "internal registrar") and facilitates upstream network connections.</span></span> <span data-ttu-id="a961f-130">对于 Surface Hub，不会发生此转协商。</span><span class="sxs-lookup"><span data-stu-id="a961f-130">For Surface Hub, this GO negotiation doesn't occur.</span></span> <span data-ttu-id="a961f-131">网络仅以 "自治" 模式运行，Surface Hub 始终是组所有者。</span><span class="sxs-lookup"><span data-stu-id="a961f-131">The network only operates in "autonomous" mode, and Surface Hub is always the group owner.</span></span> <span data-ttu-id="a961f-132">最后，Surface Hub 本身不会作为客户端加入其他 Wi-fi Direct 网络。</span><span class="sxs-lookup"><span data-stu-id="a961f-132">Finally, Surface Hub itself doesn't join other Wi-Fi Direct networks as a client.</span></span>

## <span data-ttu-id="a961f-133">Surface Hub 如何解决 Wi-fi 直接漏洞</span><span class="sxs-lookup"><span data-stu-id="a961f-133">How Surface Hub addresses Wi-Fi Direct vulnerabilities</span></span>

<span data-ttu-id="a961f-134">**Wi-fi 直接邀请、广播和发现过程中的漏洞和攻击：** Wi-fi Direct/Miracast 攻击可能针对组建立、对等发现、设备广播或邀请流程中的弱点。</span><span class="sxs-lookup"><span data-stu-id="a961f-134">**Vulnerabilities and attacks in the Wi-Fi Direct invitation, broadcast, and discovery process:** Wi-Fi Direct/Miracast attacks may target weaknesses in the group establishment, peer discovery, device broadcast, or invitation processes.</span></span>

|<span data-ttu-id="a961f-135">Wi-fi Direct 漏洞</span><span class="sxs-lookup"><span data-stu-id="a961f-135">Wi-Fi Direct vulnerability</span></span> | <span data-ttu-id="a961f-136">Surface Hub 缓解</span><span class="sxs-lookup"><span data-stu-id="a961f-136">Surface Hub mitigation</span></span> |
| --- | --- |
| <span data-ttu-id="a961f-137">发现过程可能会在较长时间内保持活动状态，这样就可以在不批准设备所有者的情况下允许邀请和连接建立。</span><span class="sxs-lookup"><span data-stu-id="a961f-137">The discovery process may remain active for an extended period of time, which could allow invitations and connections to be established without the approval of the device owner.</span></span> | <span data-ttu-id="a961f-138">Surface Hub 仅作为组所有者运行，这不会执行客户端发现或转到协商过程。</span><span class="sxs-lookup"><span data-stu-id="a961f-138">Surface Hub only operates as the group owner, which doesn't perform the client discovery or GO negotiation processes.</span></span> <span data-ttu-id="a961f-139">你可以完全禁用无线投影以关闭广播。</span><span class="sxs-lookup"><span data-stu-id="a961f-139">You can fully disable wireless projection to turn off broadcast.</span></span> |
| <span data-ttu-id="a961f-140">通过 PBC 的邀请和发现允许未经身份验证的攻击者执行重复的连接尝试，或自动接受未经身份验证的连接。</span><span class="sxs-lookup"><span data-stu-id="a961f-140">Invitation and discovery through PBC allows an unauthenticated attacker to perform repeated connection attempts, or unauthenticated connections are automatically accepted.</span></span> | <span data-ttu-id="a961f-141">通过要求使用 WPS 引脚 security，管理员可以降低此类未经授权的连接或 "邀请炸弹" 的潜在可能性，在此情况下，将重复发送邀请，直到用户误接受了邀请。</span><span class="sxs-lookup"><span data-stu-id="a961f-141">By requiring WPS PIN security, administrators can reduce the potential for such unauthorized connections or "invitation bombs," in which invitations are repeatedly sent until a user mistakenly accepts one.</span></span> |

<span data-ttu-id="a961f-142">**Wi-fi 受保护设置（WPS）按钮连接（PBC）与 PIN 输入：** 在 WPS 引脚方法设计和实施中演示了公开的弱点。</span><span class="sxs-lookup"><span data-stu-id="a961f-142">**Wi-Fi Protected Setup (WPS) push button connect (PBC) vs PIN entry:** Public weaknesses have been demonstrated in WPS-PIN method design and implementation.</span></span> <span data-ttu-id="a961f-143">WPS-PBC 有其他漏洞，这些漏洞可能允许针对一次性使用的协议进行活动攻击。</span><span class="sxs-lookup"><span data-stu-id="a961f-143">WPS-PBC has other vulnerabilities that could allow active attacks against a protocol that's designed for one-time use.</span></span>

| <span data-ttu-id="a961f-144">Wi-fi Direct 漏洞</span><span class="sxs-lookup"><span data-stu-id="a961f-144">Wi-Fi Direct vulnerability</span></span> | <span data-ttu-id="a961f-145">Surface Hub 缓解</span><span class="sxs-lookup"><span data-stu-id="a961f-145">Surface Hub mitigation</span></span> |
| --- | --- |
| <span data-ttu-id="a961f-146">WPS-PBC 易受主动攻击者的攻击。</span><span class="sxs-lookup"><span data-stu-id="a961f-146">WPS-PBC is vulnerable to active attackers.</span></span> <span data-ttu-id="a961f-147">WPS 规范状态： "PBC" 方法的熵为零，并且仅针对被动窃听攻击提供保护。</span><span class="sxs-lookup"><span data-stu-id="a961f-147">The WPS specification states: "The PBC method has zero bits of entropy and only protects against passive eavesdropping attacks.</span></span> <span data-ttu-id="a961f-148">PBC 可抵御窃听攻击，并能采取措施，防止设备加入非设备所有者选择的网络。</span><span class="sxs-lookup"><span data-stu-id="a961f-148">PBC protects against eavesdropping attacks and takes measures to prevent a device from joining a network that was not selected by the device owner.</span></span> <span data-ttu-id="a961f-149">但是，如果没有身份验证，则意味着 PBC 不能防范活动攻击。 "</span><span class="sxs-lookup"><span data-stu-id="a961f-149">The absence of authentication, however, means that PBC does not protect against active attack."</span></span> <span data-ttu-id="a961f-150">攻击者可以使用选择性无线拥塞或其他拒绝服务技术触发意外的 Wi-fi Direct GO 或连接。</span><span class="sxs-lookup"><span data-stu-id="a961f-150">Attackers can use selective wireless jamming or other denial-of-service techniques to trigger an unintended Wi-Fi Direct GO or connection.</span></span> <span data-ttu-id="a961f-151">此外，仅有物理邻近感应的活动攻击者可以反复地断开任何 Wi-fi Direct 组并尝试攻击，直至成功。</span><span class="sxs-lookup"><span data-stu-id="a961f-151">Also, an active attacker who merely has physical proximity can repeatedly tear down any Wi-Fi Direct group and attempt the attack until it succeeds.</span></span> | <span data-ttu-id="a961f-152">在 Surface Hub 配置中启用 WPS PIN 安全性。</span><span class="sxs-lookup"><span data-stu-id="a961f-152">Enable WPS-PIN security in Surface Hub configuration.</span></span> <span data-ttu-id="a961f-153">Wi-fi WPS 规范状态： "仅当没有支持 PIN 的注册机构可用且 WLAN 用户愿意接受与 PBC 相关联的风险时，才应使用 PBC 方法。"</span><span class="sxs-lookup"><span data-stu-id="a961f-153">The Wi-Fi WPS specification states: "The PBC method should only be used if no PIN-capable registrar is available and the WLAN user is willing to accept the risks associated with PBC."</span></span> |
| <span data-ttu-id="a961f-154">WPS-PIN 实现可能会受到强力攻击，其目标是 WPS 标准中的一个漏洞。</span><span class="sxs-lookup"><span data-stu-id="a961f-154">WPS-PIN implementations can be subject to brute-force attacks that target a vulnerability in the WPS standard.</span></span> <span data-ttu-id="a961f-155">在一系列 Wi-fi 硬件制造商的过去几年中，拆分引脚验证的设计会导致多个实施漏洞。</span><span class="sxs-lookup"><span data-stu-id="a961f-155">The design of split PIN verification led to multiple implementation vulnerabilities over the past several years across a range of Wi-Fi hardware manufacturers.</span></span> <span data-ttu-id="a961f-156">在2011中，研究人员斯蒂芬 Viehböck 和 Craig Heffner 发布有关此漏洞的信息和工具，例如 "Reaver" 作为概念证明。</span><span class="sxs-lookup"><span data-stu-id="a961f-156">In 2011, researchers Stefan Viehböck and Craig Heffner released information about this vulnerability and tools such as "Reaver" as a proof of concept.</span></span> |   <span data-ttu-id="a961f-157">Surface Hub 中的 Microsoft 实现 WPS 每30秒更改一次 PIN 码。</span><span class="sxs-lookup"><span data-stu-id="a961f-157">The Microsoft implementation of WPS in Surface Hub changes the PIN every 30 seconds.</span></span> <span data-ttu-id="a961f-158">要破译 PIN 码，攻击者必须在30秒内完成整个攻击。</span><span class="sxs-lookup"><span data-stu-id="a961f-158">To crack the PIN, an attacker must complete the entire exploit in less than 30 seconds.</span></span> <span data-ttu-id="a961f-159">鉴于此区域中的工具和研究的当前状态，通过 WPS 进行的强力 PIN 破解攻击不太可能成功。</span><span class="sxs-lookup"><span data-stu-id="a961f-159">Given the current state of tools and research in this area, a brute-force PIN-cracking attack through WPS is unlikely to succeed.</span></span> |
| <span data-ttu-id="a961f-160">由于较弱的初始密钥（E-S1，E S2）熵，因此可通过脱机攻击破译 WPS PIN 码。</span><span class="sxs-lookup"><span data-stu-id="a961f-160">WPS-PIN can be cracked by an offline attack because of weak initial key (E-S1,E S2) entropy.</span></span> <span data-ttu-id="a961f-161">在2014中，Dominique Bongard 介绍了一个 "Pixie 灰尘" 攻击，在此攻击中，无线设备中伪随机数字生成器（PRNG）的初始随机性不好，允许进行脱机暴力攻击。</span><span class="sxs-lookup"><span data-stu-id="a961f-161">In 2014, Dominique Bongard described a "Pixie Dust" attack where poor initial randomness for the pseudo random number generator (PRNG) in the wireless device allowed an offline brute-force attack.</span></span> | <span data-ttu-id="a961f-162">Surface Hub 中的 WPS 的 Microsoft 实现不容易受到此脱机 PIN 强力攻击。</span><span class="sxs-lookup"><span data-stu-id="a961f-162">The Microsoft implementation of WPS in Surface Hub is not susceptible to this offline PIN brute-force attack.</span></span> <span data-ttu-id="a961f-163">WPS-PIN 针对每个连接进行了随机化。</span><span class="sxs-lookup"><span data-stu-id="a961f-163">The WPS-PIN is randomized for each connection.</span></span> |

<span data-ttu-id="a961f-164">**网络服务意外暴露：** 由于配置错误（如绑定到 "all"/0.0.0.0 接口），用于以太网或 WLAN 服务的网络守护程序可能会意外暴露。</span><span class="sxs-lookup"><span data-stu-id="a961f-164">**Unintended exposure of network services:** Network daemons that are intended for Ethernet or WLAN services may be accidentally exposed because of misconfiguration (such as binding to "all"/0.0.0.0 interfaces).</span></span> <span data-ttu-id="a961f-165">其他可能的原因包括配置不当的设备防火墙或缺少防火墙规则。</span><span class="sxs-lookup"><span data-stu-id="a961f-165">Other possible causes include a poorly configured device firewall or missing firewall rules.</span></span>

| <span data-ttu-id="a961f-166">Wi-fi Direct 漏洞</span><span class="sxs-lookup"><span data-stu-id="a961f-166">Wi-Fi Direct vulnerability</span></span> | <span data-ttu-id="a961f-167">Surface Hub 缓解</span><span class="sxs-lookup"><span data-stu-id="a961f-167">Surface Hub mitigation</span></span> |
| --- | --- |
| <span data-ttu-id="a961f-168">错误配置会将漏洞或未经身份验证的网络服务绑定到“所有”接口，包括 WLAN Direct 接口。</span><span class="sxs-lookup"><span data-stu-id="a961f-168">Misconfiguration binds a vulnerable or unauthenticated network service to "all" interfaces, which includes the Wi-Fi Direct interface.</span></span> <span data-ttu-id="a961f-169">这可能会暴露不应被 Wi-fi Direct 客户端访问的服务，这些服务可能会很弱，也可能会自动进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="a961f-169">This can expose services that shouldn't be accessible to Wi-Fi Direct clients, which may be weakly or automatically authenticated.</span></span> | <span data-ttu-id="a961f-170">在 Surface Hub 中，默认防火墙规则仅允许所需的 TCP 和 UDP 网络端口，并且默认情况下拒绝所有入站连接。</span><span class="sxs-lookup"><span data-stu-id="a961f-170">In Surface Hub, the default firewall rules only permit the required TCP and UDP network ports and by default deny all inbound connections.</span></span> <span data-ttu-id="a961f-171">通过启用 WPS PIN 模式配置加强身份验证。</span><span class="sxs-lookup"><span data-stu-id="a961f-171">Configure strong authentication by enabling the WPS-PIN mode.</span></span>|

<span data-ttu-id="a961f-172">**桥接 Wi-fi Direct 和其他有线或无线网络：** WLAN 或以太网网络之间的网络桥接是否违反了 Wi-fi Direct 规范。</span><span class="sxs-lookup"><span data-stu-id="a961f-172">**Bridging Wi-Fi Direct and other wired or wireless networks:** Network bridging between WLAN or Ethernet networks is a violation of the Wi-Fi Direct specification.</span></span> <span data-ttu-id="a961f-173">这种桥或错误配置可能会有效地降低或删除内部公司网络的无线访问控制。</span><span class="sxs-lookup"><span data-stu-id="a961f-173">Such a bridge or misconfiguration may effectively lower or remove wireless access controls for the internal corporate network.</span></span>

| <span data-ttu-id="a961f-174">Wi-fi Direct 漏洞</span><span class="sxs-lookup"><span data-stu-id="a961f-174">Wi-Fi Direct vulnerability</span></span> | <span data-ttu-id="a961f-175">Surface Hub 缓解</span><span class="sxs-lookup"><span data-stu-id="a961f-175">Surface Hub mitigation</span></span> |
| --- | --- |
| <span data-ttu-id="a961f-176">WLAN Direct 设备可允许对桥接的网络连接进行未经身份验证或经过不当身份验证的访问。</span><span class="sxs-lookup"><span data-stu-id="a961f-176">Wi-Fi Direct devices could allow unauthenticated or poorly authenticated access to bridged network connections.</span></span> <span data-ttu-id="a961f-177">这可能会允许 Wi-fi Direct 网络将流量路由到内部以太网 LAN 或其他基础结构，或与现有 IT 安全协议发生冲突的企业 WLAN 网络。</span><span class="sxs-lookup"><span data-stu-id="a961f-177">This might allow Wi-Fi Direct networks to route traffic to internal Ethernet LAN or other infrastructure or to enterprise WLAN networks in violation of existing IT security protocols.</span></span> | <span data-ttu-id="a961f-178">Surface Hub 无法配置为桥接无线接口或允许在不同网络之间路由。</span><span class="sxs-lookup"><span data-stu-id="a961f-178">Surface Hub can't be configured to bridge wireless interfaces or allow routing between disparate networks.</span></span> <span data-ttu-id="a961f-179">默认防火墙规则为任何此类路由或桥路连接添加深度防护。</span><span class="sxs-lookup"><span data-stu-id="a961f-179">The default firewall rules add defense in depth to any such routing or bridge connections.</span></span> |

<span data-ttu-id="a961f-180">**使用 Wi-fi Direct "旧版" 模式：** 在 "旧版" 模式下操作时，可能会对意外的网络或设备造成暴露。</span><span class="sxs-lookup"><span data-stu-id="a961f-180">**The use of Wi-Fi Direct "legacy" mode:** Exposure to unintended networks or devices may occur when you operate in "legacy" mode.</span></span> <span data-ttu-id="a961f-181">如果未启用 WPS-PIN，则可能会发生设备欺骗或非预期连接。</span><span class="sxs-lookup"><span data-stu-id="a961f-181">Device spoofing or unintended connections could occur if WPS-PIN is not enabled.</span></span>

| <span data-ttu-id="a961f-182">Wi-fi Direct 漏洞</span><span class="sxs-lookup"><span data-stu-id="a961f-182">Wi-Fi Direct vulnerability</span></span> | <span data-ttu-id="a961f-183">Surface Hub 缓解</span><span class="sxs-lookup"><span data-stu-id="a961f-183">Surface Hub mitigation</span></span> |
| --- | --- |
| <span data-ttu-id="a961f-184">系统通过支持 WLAN Direct 和 802.11 基础结构客户端，以“旧”支持模式运行。</span><span class="sxs-lookup"><span data-stu-id="a961f-184">By supporting both Wi-Fi Direct and 802.11 infrastructure clients, the system is operating in a "legacy" support mode.</span></span> <span data-ttu-id="a961f-185">这可能会无限期地公开连接设置阶段，允许加入组或受邀请的设备在其预定设置阶段终止后进行连接。</span><span class="sxs-lookup"><span data-stu-id="a961f-185">This may expose the connection-setup phase indefinitely, allowing groups to be joined or devices invited to connect well after their intended setup phase terminates.</span></span> |    <span data-ttu-id="a961f-186">Surface Hub 不支持 Wi-fi Direct 旧客户端。</span><span class="sxs-lookup"><span data-stu-id="a961f-186">Surface Hub doesn't support Wi-Fi Direct legacy clients.</span></span> <span data-ttu-id="a961f-187">即使启用 WPS-PIN 模式，也只能对 Surface Hub 进行 WLAN Direct 连接。</span><span class="sxs-lookup"><span data-stu-id="a961f-187">Only Wi-Fi Direct connections can be made to Surface Hub even when WPS-PIN mode is enabled.</span></span> |

<span data-ttu-id="a961f-188">**连接设置期间的 Wi-fi DIRECT GO 协商：** Wi-fi Direct 中的组所有者类似于常规802.11 无线网络中的 "访问点"。</span><span class="sxs-lookup"><span data-stu-id="a961f-188">**Wi-Fi Direct GO negotiation during connection setup:** The group owner in Wi-Fi Direct is analogous to the "access point" in a conventional 802.11 wireless network.</span></span> <span data-ttu-id="a961f-189">协商可能会受恶意设备操纵。</span><span class="sxs-lookup"><span data-stu-id="a961f-189">The negotiation can be gamed by a malicious device.</span></span>

|<span data-ttu-id="a961f-190">Wi-fi Direct 漏洞</span><span class="sxs-lookup"><span data-stu-id="a961f-190">Wi-Fi Direct vulnerability</span></span> |   <span data-ttu-id="a961f-191">Surface Hub 缓解</span><span class="sxs-lookup"><span data-stu-id="a961f-191">Surface Hub mitigation</span></span> |
| --- | --- |
| <span data-ttu-id="a961f-192">如果组是动态建立的，或者可以使用 Wi-fi Direct 设备加入新组，则组所有者协商可以由恶意设备赢得，该设备始终指定最大组所有者 "意图" 值15。</span><span class="sxs-lookup"><span data-stu-id="a961f-192">If groups are dynamically established or the Wi-Fi Direct device can be made to join new groups, the group owner negotiation can be won by a malicious device that always specifies the maximum group owner "intent" value of 15.</span></span> <span data-ttu-id="a961f-193">（但如果设备配置为始终是组所有者，则连接将失败。）</span><span class="sxs-lookup"><span data-stu-id="a961f-193">(But the connection fails if the device is configured to always be a group owner.)</span></span>  | <span data-ttu-id="a961f-194">Surface Hub 利用 Wi-fi Direct "自治模式"，该模式会跳过连接设置的 "转到协商" 阶段。</span><span class="sxs-lookup"><span data-stu-id="a961f-194">Surface Hub takes advantage of Wi-Fi Direct "Autonomous mode," which skips the GO negotiation phase of connection setup.</span></span> <span data-ttu-id="a961f-195">并且 Surface Hub 始终是组所有者。</span><span class="sxs-lookup"><span data-stu-id="a961f-195">And Surface Hub is always the group owner.</span></span> |

<span data-ttu-id="a961f-196">**意外或恶意的 wi-fi deauthentication：** Wi-fi deauthentication 是一种旧攻击，在此攻击中，本地攻击者可以加速连接设置过程中的信息泄漏、触发全新的四次握手、针对活动攻击的目标 Wi-fi Direct-PBC，或创建拒绝服务攻击。</span><span class="sxs-lookup"><span data-stu-id="a961f-196">**Unintended or malicious Wi-Fi deauthentication:** Wi-Fi deauthentication is an old attack in which a local attacker can expedite information leaks in the connection-setup process, trigger new four-way handshakes, target Wi-Fi Direct WPS-PBC for active attacks, or create denial-of-service attacks.</span></span>

| <span data-ttu-id="a961f-197">Wi-fi Direct 漏洞</span><span class="sxs-lookup"><span data-stu-id="a961f-197">Wi-Fi Direct vulnerability</span></span> | <span data-ttu-id="a961f-198">Surface Hub 缓解</span><span class="sxs-lookup"><span data-stu-id="a961f-198">Surface Hub mitigation</span></span> |
| --- | --- |
| <span data-ttu-id="a961f-199">未经身份验证的攻击者可以发送 Deauthentication 数据包，从而使工作站重新进行身份验证，然后嗅探结果握手。</span><span class="sxs-lookup"><span data-stu-id="a961f-199">Deauthentication packets can be sent by an unauthenticated attacker to cause the station to re-authenticate then to sniff the resulting handshake.</span></span> <span data-ttu-id="a961f-200">可能会尝试对生成的握手进行加密或暴力攻击。</span><span class="sxs-lookup"><span data-stu-id="a961f-200">Cryptographic or brute-force attacks can be attempted on the resulting handshake.</span></span> <span data-ttu-id="a961f-201">这些攻击的缓解措施包括为预共享密钥强制执行长度和复杂性策略，配置访问点（如果适用）检测 deauthentication 数据包的恶意级别，以及使用 WPS 自动生成强密钥。</span><span class="sxs-lookup"><span data-stu-id="a961f-201">Mitigation for these attack includes enforcing length and complexity policies for pre-shared keys, configuring the access point (if applicable) to detect malicious levels of deauthentication packets, and using WPS to automatically generate strong keys.</span></span> <span data-ttu-id="a961f-202">在 PBC 模式中，用户与物理或虚拟按钮交互，以允许任意设备关联。</span><span class="sxs-lookup"><span data-stu-id="a961f-202">In PBC mode, the user interacts with a physical or virtual button to allow arbitrary device association.</span></span> <span data-ttu-id="a961f-203">此过程应仅在设置时（在短窗口内）发生。</span><span class="sxs-lookup"><span data-stu-id="a961f-203">This process should happen only at setup, within a short window.</span></span> <span data-ttu-id="a961f-204">按钮自动 "推送" 后，设备将接受通过规范引脚值（全为零）关联的任何站。</span><span class="sxs-lookup"><span data-stu-id="a961f-204">After the button is automatically "pushed," the device will accept any station that associates via a canonical PIN value (all zeros).</span></span> <span data-ttu-id="a961f-205">解除身份验证可以强制进行重复设置过程。</span><span class="sxs-lookup"><span data-stu-id="a961f-205">Deauthentication can force a repeated setup process.</span></span> |   <span data-ttu-id="a961f-206">Surface Hub 在引脚或 PBC 模式中使用 WPS。</span><span class="sxs-lookup"><span data-stu-id="a961f-206">Surface Hub uses WPS in PIN or PBC mode.</span></span> <span data-ttu-id="a961f-207">不允许 PSK 配置。</span><span class="sxs-lookup"><span data-stu-id="a961f-207">No PSK configuration is permitted.</span></span> <span data-ttu-id="a961f-208">此方法有助于强制生成强密钥。</span><span class="sxs-lookup"><span data-stu-id="a961f-208">This method helps enforce generation of strong keys.</span></span> <span data-ttu-id="a961f-209">最好为 Surface Hub 启用 WPS PIN 安全性。</span><span class="sxs-lookup"><span data-stu-id="a961f-209">It's best to enable WPS-PIN security for Surface Hub.</span></span> |
| <span data-ttu-id="a961f-210">除了拒绝服务攻击之外，deauthentication 数据包还可用于触发重新连接，以便针对 WPS-PBC 重新打开活动攻击的机会窗口。</span><span class="sxs-lookup"><span data-stu-id="a961f-210">In addition to denial-of-service attacks, deauthentication packets can be used to trigger a reconnect that re-opens the window of opportunity for active attacks against WPS-PBC.</span></span> |   <span data-ttu-id="a961f-211">在 Surface Hub 配置中启用 WPS PIN 安全性。</span><span class="sxs-lookup"><span data-stu-id="a961f-211">Enable WPS-PIN security in the Surface Hub configuration.</span></span> |

<span data-ttu-id="a961f-212">**基本无线信息泄漏：** 无线网络、802.11 或其他，本身就是信息泄露的危险。</span><span class="sxs-lookup"><span data-stu-id="a961f-212">**Basic wireless information disclosure:** Wireless networks, 802.11 or otherwise, are inherently at risk of information disclosure.</span></span> <span data-ttu-id="a961f-213">虽然此信息通常是连接或设备元数据，但此问题仍然是任何802.11 网络管理员的已知风险。</span><span class="sxs-lookup"><span data-stu-id="a961f-213">Although this information is mostly connection or device metadata, this problem remains a known risk for any 802.11 network administrator.</span></span> <span data-ttu-id="a961f-214">通过 WPS-PIN 对设备进行身份验证的 WLAN Direct 有效显示了与 PSK 或企业 802.11 网络相同的信息。</span><span class="sxs-lookup"><span data-stu-id="a961f-214">Wi-Fi Direct with device authentication via WPS-PIN effectively reveals the same information as a PSK or Enterprise 802.11 network.</span></span>

| <span data-ttu-id="a961f-215">Wi-fi Direct 漏洞</span><span class="sxs-lookup"><span data-stu-id="a961f-215">Wi-Fi Direct vulnerability</span></span> | <span data-ttu-id="a961f-216">Surface Hub 缓解</span><span class="sxs-lookup"><span data-stu-id="a961f-216">Surface Hub mitigation</span></span> |
| --- | --- |
| <span data-ttu-id="a961f-217">在广播、连接设置甚至已加密连接的普通操作中，有关设备和数据包大小的基本信息均以无线方式传输。</span><span class="sxs-lookup"><span data-stu-id="a961f-217">During broadcast, connection setup, or even normal operation of already-encrypted connections, basic information about devices and packet sizes is wirelessly transmitted.</span></span> <span data-ttu-id="a961f-218">在基本级别，无线范围内的本地攻击者可以检查相关的802.11 信息元素，以确定无线设备的名称、通信设备的 MAC 地址以及可能的其他详细信息，如无线堆栈的版本、数据包大小或配置的接入点或组所有者选项。</span><span class="sxs-lookup"><span data-stu-id="a961f-218">At a basic level, a local attacker who's within wireless range can examine the relevant 802.11 information elements to determine the names of wireless devices, the MAC addresses of communicating equipment, and possibly other details, such as the version of the wireless stack, packet sizes, or the configured access point or group owner options.</span></span>  | <span data-ttu-id="a961f-219">Surface Hub 使用的 Wi-fi Direct 网络不能进一步保护元数据泄漏，就像802.11 企业版或 PSK 无线网络一样。</span><span class="sxs-lookup"><span data-stu-id="a961f-219">The Wi-Fi Direct network that Surface Hub uses can't be further protected from metadata leaks, just like for 802.11 Enterprise or PSK wireless networks.</span></span> <span data-ttu-id="a961f-220">物理安全性和删除无线邻近感应的潜在威胁有助于减少潜在的信息泄漏。</span><span class="sxs-lookup"><span data-stu-id="a961f-220">Physical security and removal of potential threats from wireless proximity can help reduce potential information leaks.</span></span> |

<span data-ttu-id="a961f-221">**无线恶意攻击或欺骗攻击：** 哄骗无线名称是一种简单的已知漏洞，本地攻击者可使用该漏洞引诱不受信任或误认为用户连接的用户。</span><span class="sxs-lookup"><span data-stu-id="a961f-221">**Wireless evil twin or spoofing attacks:**  Spoofing the wireless name is a simple, well-known exploit a local attacker can use to lure unsuspecting or mistaken users to connect.</span></span>

| <span data-ttu-id="a961f-222">Wi-fi Direct 漏洞</span><span class="sxs-lookup"><span data-stu-id="a961f-222">Wi-Fi Direct vulnerability</span></span> | <span data-ttu-id="a961f-223">Surface Hub 缓解</span><span class="sxs-lookup"><span data-stu-id="a961f-223">Surface Hub mitigation</span></span> |
| --- | --- |
| <span data-ttu-id="a961f-224">通过哄骗或克隆目标网络的无线名称或 "SSID"，攻击者可以诱使用户连接到虚假的恶意网络。</span><span class="sxs-lookup"><span data-stu-id="a961f-224">By spoofing or cloning the wireless name or "SSID" of the target network, an attacker may trick the user into connecting to a fake, malicious network.</span></span> <span data-ttu-id="a961f-225">通过支持未经身份验证的自动加入 Miracast，攻击者可以捕获所需的显示资料或在连接设备上启动网络攻击。</span><span class="sxs-lookup"><span data-stu-id="a961f-225">By supporting unauthenticated, auto-join Miracast, an attacker could capture the intended display materials or launch network attacks on the connecting device.</span></span> | <span data-ttu-id="a961f-226">虽然在加入欺骗 Surface Hub 时没有特定的保护措施，但此漏洞有两种减轻部分影响的方式。</span><span class="sxs-lookup"><span data-stu-id="a961f-226">While there are no specific protections against joining a spoofed Surface Hub, this vulnerability is partially mitigated in two ways.</span></span> <span data-ttu-id="a961f-227">首先，任何潜在攻击必须在物理上位于 WLAN 范围内。</span><span class="sxs-lookup"><span data-stu-id="a961f-227">First, any potential attack must be physically within Wi-Fi range.</span></span> <span data-ttu-id="a961f-228">第二，此攻击仅在第一次连接期间才可能。</span><span class="sxs-lookup"><span data-stu-id="a961f-228">Second, this attack is only possible during the first connection.</span></span> <span data-ttu-id="a961f-229">后续连接使用永久 Wi-fi Direct 组，并且在将来的中心使用时，Windows 将记住并优先处理此之前的连接。</span><span class="sxs-lookup"><span data-stu-id="a961f-229">Subsequent connections use a persistent Wi-Fi Direct group, and Windows will remember and prioritize this prior connection during future Hub use.</span></span> <span data-ttu-id="a961f-230">（注意：对于此报告，不考虑对 MAC 地址、Wi-fi 通道和 SSID 的欺骗，可能会导致 Wlan 行为不一致。）总而言之，对于任何缺少企业 WPA2 协议（如 EAP-TLS 或 EAP-PWD）的802.11 无线网络而言，此弱点是一个基本问题，这种情况下，Wi-fi Direct 不支持。</span><span class="sxs-lookup"><span data-stu-id="a961f-230">(Note: Spoofing the MAC address, Wi-Fi channel, and SSID simultaneously was not considered for this report and may result in inconsistent Wi-Fi behavior.) Overall, this weakness is a fundamental problem for any 802.11 wireless network that lacks Enterprise WPA2 protocols such as EAP-TLS or EAP-PWD, which Wi-Fi Direct doesn't support.</span></span> |

## <span data-ttu-id="a961f-231">Surface Hub 强化指南</span><span class="sxs-lookup"><span data-stu-id="a961f-231">Surface Hub hardening guidelines</span></span>

<span data-ttu-id="a961f-232">Surface Hub 是专为促进协作和允许用户快速高效地开始和加入会议而设计。</span><span class="sxs-lookup"><span data-stu-id="a961f-232">Surface Hub is designed to facilitate collaboration and allow users to start or join meetings quickly and efficiently.</span></span> <span data-ttu-id="a961f-233">为此方案优化了 Surface Hub 的默认 Wi-fi 直接设置。</span><span class="sxs-lookup"><span data-stu-id="a961f-233">The default Wi-Fi Direct settings for Surface Hub are optimized for this scenario.</span></span>

<span data-ttu-id="a961f-234">对于其他无线接口安全性，Surface Hub 用户应启用 WPS PIN 安全性设置。</span><span class="sxs-lookup"><span data-stu-id="a961f-234">For additional wireless interface security, Surface Hub users should enable the WPS-PIN security setting.</span></span> <span data-ttu-id="a961f-235">此设置禁用 WPS-PBC 模式并提供客户端身份验证。</span><span class="sxs-lookup"><span data-stu-id="a961f-235">This setting disables WPS-PBC mode and offers client authentication.</span></span> <span data-ttu-id="a961f-236">它通过防止与 Surface Hub 的未经授权连接来提供最强大的保护级别。</span><span class="sxs-lookup"><span data-stu-id="a961f-236">It provides the strongest level of protection by preventing unauthorized connection to Surface Hub.</span></span>

<span data-ttu-id="a961f-237">如果你仍然担心 Surface Hub 的身份验证和授权，我们建议你将设备连接到单独的网络。</span><span class="sxs-lookup"><span data-stu-id="a961f-237">If you still have concerns about authentication and authorization for Surface Hub, we recommend that you connect the device to a separate network.</span></span> <span data-ttu-id="a961f-238">你可以使用 Wi-fi （如 "来宾" Wi-fi 网络）或单独的以太网网络（最好是完全不同的物理网络）。</span><span class="sxs-lookup"><span data-stu-id="a961f-238">You could use Wi-Fi (such as a "guest" Wi-Fi network) or a separate Ethernet network, preferably an entirely different physical network.</span></span> <span data-ttu-id="a961f-239">但 VLAN 还可以提供额外的安全性。</span><span class="sxs-lookup"><span data-stu-id="a961f-239">But a VLAN can also provide added security.</span></span> <span data-ttu-id="a961f-240">当然，此方法可能会妨碍与内部网络资源或服务的连接，并且可能需要其他网络配置才能重新获得访问权限。</span><span class="sxs-lookup"><span data-stu-id="a961f-240">Of course, this approach may preclude connections to internal network resources or services and may require additional network configuration to regain access.</span></span>

<span data-ttu-id="a961f-241">此外，还建议：</span><span class="sxs-lookup"><span data-stu-id="a961f-241">Also recommended:</span></span>
- [<span data-ttu-id="a961f-242">安装常规系统更新</span><span class="sxs-lookup"><span data-stu-id="a961f-242">Install regular system updates</span></span>](manage-windows-updates-for-surface-hub.md) 
- <span data-ttu-id="a961f-243">更新 Miracast 设置以禁用自动显示模式</span><span class="sxs-lookup"><span data-stu-id="a961f-243">Update the Miracast settings to disable auto-present mode</span></span>

## <span data-ttu-id="a961f-244">了解详情</span><span class="sxs-lookup"><span data-stu-id="a961f-244">Learn more</span></span>

- [<span data-ttu-id="a961f-245">WLAN Direct 规范</span><span class="sxs-lookup"><span data-stu-id="a961f-245">Wi-Fi Direct specifications</span></span>](http://www.wi-fi.org/discover-wi-fi/wi-fi-direct)
- [<span data-ttu-id="a961f-246">无线保护设置 (WPS) 规范</span><span class="sxs-lookup"><span data-stu-id="a961f-246">Wireless Protected Setup (WPS) specification</span></span>](http://www.wi-fi.org/discover-wi-fi/wi-fi-protected-setup)



